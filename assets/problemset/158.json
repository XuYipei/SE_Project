{
  "id": "158",
  "title": "静态仙人掌",
  "type": "traditional",
  "sections": [
    {
      "title": "",
      "content": "\u003cp\u003e在OI的上古时代，流传着这样一个故事：\u003c/p\u003e\u003cp\u003e有一天，小W到森林里游玩，回来之后跟小V说，我发现好多棵会动的树耶！小V说，这有什么好稀奇的，我用手指头就能维护每棵树的形态。\u003c/p\u003e\u003cp\u003e于是又过了几天小W到沙漠里游玩，回来之后跟小V说，我发现好多棵会动的仙人掌耶！小V说，这有什么好稀奇的，我用脚丫子就能维护每棵仙人掌的形态。\u003c/p\u003e\u003cp\u003e小S看到了这段故事，深受感动。他决定一步步做起，从仙人掌做起，从不会动的仙人掌做起。\u003c/p\u003e\u003cp\u003e本题中，我们定义：\u003c/p\u003e\u003cp\u003e\u003cimg class=\"img-responsive center-block\" src=\"//img.uoj.ac/utility/what-is-cactus.png\" alt=\"什么是仙人掌\"\u003e\u003c/p\u003e\u003cp\u003e如果一个无向连通图的任意一条边最多属于一个简单环，且不存在自环，我们就称之为仙人掌。\u003c/p\u003e\u003cp\u003e仙人掌上的两点间最短路径（一定是简单路径）与最长简单路径的定义与一般无向图的定义相同。\u003c/p\u003e\u003cp\u003e本题中，我们还保证\u003cstrong\u003e任何一个简单环的长度均为奇数\u003c/strong\u003e。这意味着不存在重边，并且任意两点间的最短路径与最长简单路径一定是唯一的。\u003c/p\u003e\u003cp\u003e为了证明你确实能够维护仙人掌，我们给你 \u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-1\"\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-2\"\u003en\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-1\"\u003en\u003c/script\u003e 个结点，从 \u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-3\"\u003e\u003cspan class=\"MJXp-mn\" id=\"MJXp-Span-4\"\u003e1\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-2\"\u003e1\u003c/script\u003e 到 \u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-5\"\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-6\"\u003en\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-3\"\u003en\u003c/script\u003e 标号，其中 \u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-7\"\u003e\u003cspan class=\"MJXp-mn\" id=\"MJXp-Span-8\"\u003e1\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-4\"\u003e1\u003c/script\u003e 号点是仙人掌的根。它有 \u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-9\"\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-10\"\u003em\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-5\"\u003em\u003c/script\u003e 条边，第 \u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-11\"\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-12\"\u003ei\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-6\"\u003ei\u003c/script\u003e 条边连接了结点 \u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-13\"\u003e\u003cspan class=\"MJXp-msubsup\" id=\"MJXp-Span-14\"\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-15\" style=\"margin-right: 0.05em;\"\u003eu\u003c/span\u003e\u003cspan class=\"MJXp-mi MJXp-italic MJXp-script\" id=\"MJXp-Span-16\" style=\"vertical-align: -0.4em;\"\u003ei\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-7\"\u003eu_i\u003c/script\u003e 与 \u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-17\"\u003e\u003cspan class=\"MJXp-msubsup\" id=\"MJXp-Span-18\"\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-19\" style=\"margin-right: 0.05em;\"\u003ev\u003c/span\u003e\u003cspan class=\"MJXp-mi MJXp-italic MJXp-script\" id=\"MJXp-Span-20\" style=\"vertical-align: -0.4em;\"\u003ei\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-8\"\u003ev_i\u003c/script\u003e。\u003c/p\u003e\u003cp\u003e每个结点有一个颜色（黑或白），初始时均为黑色。现在有 \u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-21\"\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-22\"\u003eq\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-9\"\u003eq\u003c/script\u003e 次操作，每次操作格式为 \u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-23\"\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-24\"\u003eo\u003c/span\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-25\"\u003ep\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-10\"\u003eop\u003c/script\u003e \u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-26\"\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-27\"\u003ex\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-11\"\u003ex\u003c/script\u003e（\u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-28\"\u003e\u003cspan class=\"MJXp-mn\" id=\"MJXp-Span-29\"\u003e1\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-30\" style=\"margin-left: 0.333em; margin-right: 0.333em;\"\u003e≤\u003c/span\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-31\"\u003eo\u003c/span\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-32\"\u003ep\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-33\" style=\"margin-left: 0.333em; margin-right: 0.333em;\"\u003e≤\u003c/span\u003e\u003cspan class=\"MJXp-mn\" id=\"MJXp-Span-34\"\u003e3\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-35\" style=\"margin-left: 0em; margin-right: 0.222em;\"\u003e,\u003c/span\u003e\u003cspan class=\"MJXp-mn\" id=\"MJXp-Span-36\"\u003e1\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-37\" style=\"margin-left: 0.333em; margin-right: 0.333em;\"\u003e≤\u003c/span\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-38\"\u003ex\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-39\" style=\"margin-left: 0.333em; margin-right: 0.333em;\"\u003e≤\u003c/span\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-40\"\u003en\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-12\"\u003e1 \\leq op \\leq 3, 1 \\leq x \\leq n\u003c/script\u003e）：\u003c/p\u003e\u003cul\u003e\u003cli\u003e若\u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-41\"\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-42\"\u003eo\u003c/span\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-43\"\u003ep\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-44\" style=\"margin-left: 0.333em; margin-right: 0.333em;\"\u003e=\u003c/span\u003e\u003cspan class=\"MJXp-mn\" id=\"MJXp-Span-45\"\u003e1\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-13\"\u003eop=1\u003c/script\u003e，表示将点\u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-46\"\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-47\"\u003ex\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-14\"\u003ex\u003c/script\u003e到根的最短路径上的所有点的状态取反（黑变白，白变黑）；\u003c/li\u003e\n\u003cli\u003e若\u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-48\"\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-49\"\u003eo\u003c/span\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-50\"\u003ep\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-51\" style=\"margin-left: 0.333em; margin-right: 0.333em;\"\u003e=\u003c/span\u003e\u003cspan class=\"MJXp-mn\" id=\"MJXp-Span-52\"\u003e2\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-15\"\u003eop=2\u003c/script\u003e，表示将点\u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-53\"\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-54\"\u003ex\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-16\"\u003ex\u003c/script\u003e到根的最长简单路径上的所有点的状态取反；\u003c/li\u003e\n\u003cli\u003e若\u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-55\"\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-56\"\u003eo\u003c/span\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-57\"\u003ep\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-58\" style=\"margin-left: 0.333em; margin-right: 0.333em;\"\u003e=\u003c/span\u003e\u003cspan class=\"MJXp-mn\" id=\"MJXp-Span-59\"\u003e3\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-17\"\u003eop=3\u003c/script\u003e，表示询问点\u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-60\"\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-61\"\u003ex\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-18\"\u003ex\u003c/script\u003e的子仙人掌中的黑点数目。点 \u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-62\"\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-63\"\u003ex\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-19\"\u003ex\u003c/script\u003e 的子仙人掌定义为：删除从根到点 \u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-64\"\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-65\"\u003ex\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-20\"\u003ex\u003c/script\u003e 的所有简单路径上的所有边后，点 \u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-66\"\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-67\"\u003ex\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-21\"\u003ex\u003c/script\u003e 所在的连通块。\u003c/li\u003e\n\u003c/ul\u003e",
      "misc": ""
    },
    {
      "title": "输入格式",
      "content": "\u003cp\u003e第一行三个用空格隔开的正整数 \u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-68\"\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-69\"\u003en\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-70\" style=\"margin-left: 0em; margin-right: 0.222em;\"\u003e,\u003c/span\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-71\"\u003em\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-72\" style=\"margin-left: 0em; margin-right: 0.222em;\"\u003e,\u003c/span\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-73\"\u003eq\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-22\"\u003en,m,q\u003c/script\u003e 表示一共有 \u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-74\"\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-75\"\u003en\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-23\"\u003en\u003c/script\u003e 个结点，\u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-76\"\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-77\"\u003em\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-24\"\u003em\u003c/script\u003e 条边，\u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-78\"\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-79\"\u003eq\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-25\"\u003eq\u003c/script\u003e 个操作。\u003c/p\u003e\u003cp\u003e接下来 \u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-80\"\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-81\"\u003em\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-26\"\u003em\u003c/script\u003e 行，每行两个空格隔开的正整数 \u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-82\"\u003e\u003cspan class=\"MJXp-msubsup\" id=\"MJXp-Span-83\"\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-84\" style=\"margin-right: 0.05em;\"\u003eu\u003c/span\u003e\u003cspan class=\"MJXp-mi MJXp-italic MJXp-script\" id=\"MJXp-Span-85\" style=\"vertical-align: -0.4em;\"\u003ei\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-86\" style=\"margin-left: 0em; margin-right: 0.222em;\"\u003e,\u003c/span\u003e\u003cspan class=\"MJXp-msubsup\" id=\"MJXp-Span-87\"\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-88\" style=\"margin-right: 0.05em;\"\u003ev\u003c/span\u003e\u003cspan class=\"MJXp-mi MJXp-italic MJXp-script\" id=\"MJXp-Span-89\" style=\"vertical-align: -0.4em;\"\u003ei\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-27\"\u003eu_i, v_i\u003c/script\u003e，表示一条边。\u003c/p\u003e\u003cp\u003e接下来 \u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-90\"\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-91\"\u003eq\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-28\"\u003eq\u003c/script\u003e 行，每行表示一个操作，格式如上述。\u003c/p\u003e",
      "misc": ""
    },
    {
      "title": "输出格式",
      "content": "\u003cp\u003e对于每个 \u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-92\"\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-93\"\u003eo\u003c/span\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-94\"\u003ep\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-95\" style=\"margin-left: 0.333em; margin-right: 0.333em;\"\u003e=\u003c/span\u003e\u003cspan class=\"MJXp-mn\" id=\"MJXp-Span-96\"\u003e3\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-29\"\u003eop=3\u003c/script\u003e 的操作，输出一行相应的结果。\u003c/p\u003e",
      "misc": ""
    },
    {
      "title": "限制与约定",
      "content": "\u003cp\u003e本题使用捆绑测试。每个子任务有若干个测试点，分为 \u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-97\"\u003e\u003cspan class=\"MJXp-mn\" id=\"MJXp-Span-98\"\u003e8\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-30\"\u003e8\u003c/script\u003e 个子任务，你只有通过一个子任务的所有测试点才能得到这个子任务的分数。\u003c/p\u003e\u003ch4\u003e前七个子任务的限制\u003c/h4\u003e\u003cp\u003e\u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-107\"\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-108\"\u003en\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-109\" style=\"margin-left: 0em; margin-right: 0.222em;\"\u003e,\u003c/span\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-110\"\u003eq\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-111\" style=\"margin-left: 0.333em; margin-right: 0.333em;\"\u003e≤\u003c/span\u003e\u003cspan class=\"MJXp-mn\" id=\"MJXp-Span-112\"\u003e50000\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-33\"\u003en, q \\leq 50000\u003c/script\u003e。\u003c/p\u003e\u003ch4\u003e子任务1（7分）\u003c/h4\u003e\u003cp\u003e\u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-113\"\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-114\"\u003en\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-115\" style=\"margin-left: 0.333em; margin-right: 0.333em;\"\u003e≤\u003c/span\u003e\u003cspan class=\"MJXp-mn\" id=\"MJXp-Span-116\"\u003e2\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-117\" style=\"margin-left: 0em; margin-right: 0.222em;\"\u003e,\u003c/span\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-118\"\u003eq\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-119\" style=\"margin-left: 0.333em; margin-right: 0.333em;\"\u003e≤\u003c/span\u003e\u003cspan class=\"MJXp-mn\" id=\"MJXp-Span-120\"\u003e2000\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-34\"\u003en \\leq 2, q \\leq 2000\u003c/script\u003e。\u003c/p\u003e\u003ch4\u003e子任务2（14分）\u003c/h4\u003e\u003cp\u003e\u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-121\"\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-122\"\u003en\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-123\" style=\"margin-left: 0.333em; margin-right: 0.333em;\"\u003e≤\u003c/span\u003e\u003cspan class=\"MJXp-mn\" id=\"MJXp-Span-124\"\u003e20\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-125\" style=\"margin-left: 0em; margin-right: 0.222em;\"\u003e,\u003c/span\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-126\"\u003eq\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-127\" style=\"margin-left: 0.333em; margin-right: 0.333em;\"\u003e≤\u003c/span\u003e\u003cspan class=\"MJXp-mn\" id=\"MJXp-Span-128\"\u003e2000\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-35\"\u003en \\leq 20, q \\leq 2000\u003c/script\u003e。\u003c/p\u003e\u003ch4\u003e子任务3（9分）\u003c/h4\u003e\u003cp\u003e\u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-129\"\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-130\"\u003en\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-131\" style=\"margin-left: 0em; margin-right: 0.222em;\"\u003e,\u003c/span\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-132\"\u003eq\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-133\" style=\"margin-left: 0.333em; margin-right: 0.333em;\"\u003e≤\u003c/span\u003e\u003cspan class=\"MJXp-mn\" id=\"MJXp-Span-134\"\u003e2000\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-36\"\u003en, q \\leq 2000\u003c/script\u003e。\u003c/p\u003e\u003ch4\u003e子任务4（17分）\u003c/h4\u003e\u003cp\u003e保证 \u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-135\"\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-136\"\u003em\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-137\" style=\"margin-left: 0.333em; margin-right: 0.333em;\"\u003e=\u003c/span\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-138\"\u003en\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-139\" style=\"margin-left: 0.267em; margin-right: 0.267em;\"\u003e−\u003c/span\u003e\u003cspan class=\"MJXp-mn\" id=\"MJXp-Span-140\"\u003e1\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-37\"\u003em=n-1\u003c/script\u003e，并且 \u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-141\"\u003e\u003cspan class=\"MJXp-msubsup\" id=\"MJXp-Span-142\"\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-143\" style=\"margin-right: 0.05em;\"\u003eu\u003c/span\u003e\u003cspan class=\"MJXp-mi MJXp-italic MJXp-script\" id=\"MJXp-Span-144\" style=\"vertical-align: -0.4em;\"\u003ei\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-145\" style=\"margin-left: 0.333em; margin-right: 0.333em;\"\u003e=\u003c/span\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-146\"\u003ei\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-147\" style=\"margin-left: 0em; margin-right: 0.222em;\"\u003e,\u003c/span\u003e\u003cspan class=\"MJXp-msubsup\" id=\"MJXp-Span-148\"\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-149\" style=\"margin-right: 0.05em;\"\u003ev\u003c/span\u003e\u003cspan class=\"MJXp-mi MJXp-italic MJXp-script\" id=\"MJXp-Span-150\" style=\"vertical-align: -0.4em;\"\u003ei\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-151\" style=\"margin-left: 0.333em; margin-right: 0.333em;\"\u003e=\u003c/span\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-152\"\u003ei\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-153\" style=\"margin-left: 0.267em; margin-right: 0.267em;\"\u003e+\u003c/span\u003e\u003cspan class=\"MJXp-mn\" id=\"MJXp-Span-154\"\u003e1\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-38\"\u003eu_i=i,v_i=i+1\u003c/script\u003e，且不存在 \u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-155\"\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-156\"\u003eo\u003c/span\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-157\"\u003ep\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-158\" style=\"margin-left: 0.333em; margin-right: 0.333em;\"\u003e=\u003c/span\u003e\u003cspan class=\"MJXp-mn\" id=\"MJXp-Span-159\"\u003e2\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-39\"\u003eop=2\u003c/script\u003e 的操作。\u003c/p\u003e\u003ch4\u003e子任务5（14分）\u003c/h4\u003e\u003cp\u003e保证 \u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-160\"\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-161\"\u003em\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-162\" style=\"margin-left: 0.333em; margin-right: 0.333em;\"\u003e=\u003c/span\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-163\"\u003en\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-164\" style=\"margin-left: 0.267em; margin-right: 0.267em;\"\u003e−\u003c/span\u003e\u003cspan class=\"MJXp-mn\" id=\"MJXp-Span-165\"\u003e1\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-40\"\u003em=n-1\u003c/script\u003e，并且 \u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-166\"\u003e\u003cspan class=\"MJXp-msubsup\" id=\"MJXp-Span-167\"\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-168\" style=\"margin-right: 0.05em;\"\u003eu\u003c/span\u003e\u003cspan class=\"MJXp-mi MJXp-italic MJXp-script\" id=\"MJXp-Span-169\" style=\"vertical-align: -0.4em;\"\u003ei\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-170\" style=\"margin-left: 0.333em; margin-right: 0.333em;\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"MJXp-msubsup\" id=\"MJXp-Span-171\"\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-172\" style=\"margin-right: 0.05em;\"\u003ev\u003c/span\u003e\u003cspan class=\"MJXp-mi MJXp-italic MJXp-script\" id=\"MJXp-Span-173\" style=\"vertical-align: -0.4em;\"\u003ei\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-41\"\u003eu_i \u003c v_i\u003c/script\u003e，且不存在 \u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-174\"\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-175\"\u003eo\u003c/span\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-176\"\u003ep\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-177\" style=\"margin-left: 0.333em; margin-right: 0.333em;\"\u003e=\u003c/span\u003e\u003cspan class=\"MJXp-mn\" id=\"MJXp-Span-178\"\u003e2\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-42\"\u003eop=2\u003c/script\u003e 的操作。\u003c/p\u003e\u003ch4\u003e子任务6（11分）\u003c/h4\u003e\u003cp\u003e保证不存在 \u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-179\"\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-180\"\u003eo\u003c/span\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-181\"\u003ep\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-182\" style=\"margin-left: 0.333em; margin-right: 0.333em;\"\u003e=\u003c/span\u003e\u003cspan class=\"MJXp-mn\" id=\"MJXp-Span-183\"\u003e2\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-43\"\u003eop=2\u003c/script\u003e 的操作。\u003c/p\u003e\u003ch4\u003e子任务7（18分）\u003c/h4\u003e\u003cp\u003e没有特殊的限制与约定。\u003c/p\u003e\u003ch4\u003e子任务8（10分）\u003c/h4\u003e\u003cp\u003e空间限制缩小为 \u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-184\"\u003e\u003cspan class=\"MJXp-mn\" id=\"MJXp-Span-185\"\u003e128\u003c/span\u003e\u003cspan class=\"MJXp-mrow\" id=\"MJXp-Span-186\"\u003e\u003cspan class=\"MJXp-mtext MJXp-mono\" id=\"MJXp-Span-187\"\u003eMB\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-44\"\u003e128\\texttt{MB}\u003c/script\u003e。\u003c/p\u003e",
      "misc": ""
    },
    {
      "title": "下载",
      "content": "\u003cp\u003e\u003ca href=\"/download.php?type=problem\u0026amp;id=158\"\u003e样例数据下载\u003c/a\u003e\u003c/p\u003e",
      "misc": ""
    }
  ],
  "samples": [
    {
      "title": "样例一",
      "input": "\u003cpre\u003e7 9 11\n1 2\n1 3\n2 3\n3 4\n3 5\n4 5\n5 6\n5 7\n6 7\n3 1\n3 2\n3 3\n1 7\n3 1\n3 2\n3 3\n2 7\n3 1\n3 2\n3 3\n\n\u003c/pre\u003e",
      "output": "\u003cpre\u003e7\n1\n5\n3\n1\n2\n4\n0\n3\n\n\u003c/pre\u003e",
      "explanation": "",
      "misc": ""
    },
    {
      "title": "样例二",
      "input": "",
      "output": "",
      "explanation": "",
      "misc": "\u003cp\u003e见样例数据下载。这组数据符合子任务4的限制与约定。\u003c/p\u003e"
    },
    {
      "title": "样例三",
      "input": "",
      "output": "",
      "explanation": "",
      "misc": "\u003cp\u003e见样例数据下载。这组数据符合子任务5的限制与约定。\u003c/p\u003e"
    },
    {
      "title": "样例四",
      "input": "",
      "output": "",
      "explanation": "",
      "misc": "\u003cp\u003e见样例数据下载。这组数据符合子任务6的限制与约定。\u003c/p\u003e"
    }
  ],
  "tags": [
    "UOJ",
    "清华集训2015"
  ],
  "rules": {
    "runtime": "1000000000",
    "memory": "805306368",
    "stack": "805306368",
    "source": "51200"
  },
  "meta": {
    "created": "2021-04-09T21:33:16.745642797+08:00",
    "updated": "2021-04-09T21:33:16.745642797+08:00",
    "checked": "2021-04-09T21:33:16.745642797+08:00"
  },
  "misc": ""
}
