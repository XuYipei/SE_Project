{
  "id": "433",
  "title": "串串",
  "type": "traditional",
  "sections": [
    {
      "title": "",
      "content": "\u003cp\u003e\u003cb\u003ef\u003cfont color=\"#FF0000\"\u003eateice\u003c/font\u003e\u003c/b\u003e 喜欢串串，尤其喜欢双回文串。\u003c/p\u003e\u003cp\u003e如果你不知道啥是双回文串，一个串 \u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-1\"\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-2\"\u003es\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-1\"\u003es\u003c/script\u003e 是双回文串当且仅当存在非空的回文串 \u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-3\"\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-4\"\u003ea\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-2\"\u003ea\u003c/script\u003e 和 \u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-5\"\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-6\"\u003eb\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-3\"\u003eb\u003c/script\u003e 满足 \u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-7\"\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-8\"\u003es\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-4\"\u003es\u003c/script\u003e 由 \u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-9\"\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-10\"\u003ea\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-5\"\u003ea\u003c/script\u003e 和 \u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-11\"\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-12\"\u003eb\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-6\"\u003eb\u003c/script\u003e 拼接而成。例如，\u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-13\"\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-14\"\u003ea\u003c/span\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-15\"\u003ea\u003c/span\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-16\"\u003eb\u003c/span\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-17\"\u003ec\u003c/span\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-18\"\u003eb\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-7\"\u003eaabcb\u003c/script\u003e 为双回文串，而 \u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-19\"\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-20\"\u003ea\u003c/span\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-21\"\u003eb\u003c/span\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-22\"\u003ea\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-8\"\u003eaba\u003c/script\u003e 不是双回文串。\u003c/p\u003e\u003cp\u003e一天 \u003cb\u003ef\u003cfont color=\"#FF0000\"\u003eateice\u003c/font\u003e\u003c/b\u003e 看到了一个新鲜的字符串 \u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-23\"\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-24\"\u003es\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-9\"\u003es\u003c/script\u003e，他把 \u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-25\"\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-26\"\u003es\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-10\"\u003es\u003c/script\u003e 的所有本质不同的子串列举了出来，并且数出了其中的双回文串个数。两个字符串本质不同当且仅当它们的长度不同或存在一个下标它们对应位置的字符不同。\u003c/p\u003e\u003cp\u003e\u003cb\u003ef\u003cfont color=\"#FF0000\"\u003eateice\u003c/font\u003e\u003c/b\u003e 当然飞快地报出了答案，但是他想考考你。\u003c/p\u003e",
      "misc": ""
    },
    {
      "title": "输入格式",
      "content": "\u003cp\u003e从标准输入读入数据。\u003c/p\u003e\u003cp\u003e一行一个非空字符串 \u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-27\"\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-28\"\u003es\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-11\"\u003es\u003c/script\u003e。保证由小写字母组成。\u003c/p\u003e",
      "misc": ""
    },
    {
      "title": "输出格式",
      "content": "\u003cp\u003e输出到标准输出中。\u003c/p\u003e\u003cp\u003e输出一行一个整数表示 \u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-29\"\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-30\"\u003es\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-12\"\u003es\u003c/script\u003e 中本质不同的双回文串子串个数。\u003c/p\u003e",
      "misc": ""
    },
    {
      "title": "限制与约定",
      "content": "\u003cp\u003e对于所有数据，满足 \u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-33\"\u003e\u003cspan class=\"MJXp-mn\" id=\"MJXp-Span-34\"\u003e1\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-35\" style=\"margin-left: 0.333em; margin-right: 0.333em;\"\u003e≤\u003c/span\u003e\u003cspan class=\"MJXp-mrow\" id=\"MJXp-Span-36\"\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-37\" style=\"margin-left: 0.167em; margin-right: 0.167em;\"\u003e|\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-38\"\u003es\u003c/span\u003e\u003cspan class=\"MJXp-mrow\" id=\"MJXp-Span-39\"\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-40\" style=\"margin-left: 0.167em; margin-right: 0.167em;\"\u003e|\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-41\" style=\"margin-left: 0.333em; margin-right: 0.333em;\"\u003e≤\u003c/span\u003e\u003cspan class=\"MJXp-mn\" id=\"MJXp-Span-42\"\u003e5\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-43\" style=\"margin-left: 0.267em; margin-right: 0.267em;\"\u003e×\u003c/span\u003e\u003cspan class=\"MJXp-msubsup\" id=\"MJXp-Span-44\"\u003e\u003cspan class=\"MJXp-mn\" id=\"MJXp-Span-45\" style=\"margin-right: 0.05em;\"\u003e10\u003c/span\u003e\u003cspan class=\"MJXp-mn MJXp-script\" id=\"MJXp-Span-46\" style=\"vertical-align: 0.5em;\"\u003e5\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-14\"\u003e1 \\leq |s| \\leq 5 \\times 10^5\u003c/script\u003e。\u003c/p\u003e\u003cp\u003e共有6个子任务，每个子任务的特殊限制和分值如下：\u003c/p\u003e\u003col\u003e\u003cli\u003e(10分) \u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-47\"\u003e\u003cspan class=\"MJXp-mrow\" id=\"MJXp-Span-48\"\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-49\" style=\"margin-left: 0.167em; margin-right: 0.167em;\"\u003e|\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-50\"\u003es\u003c/span\u003e\u003cspan class=\"MJXp-mrow\" id=\"MJXp-Span-51\"\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-52\" style=\"margin-left: 0.167em; margin-right: 0.167em;\"\u003e|\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-53\" style=\"margin-left: 0.333em; margin-right: 0.333em;\"\u003e≤\u003c/span\u003e\u003cspan class=\"MJXp-mn\" id=\"MJXp-Span-54\"\u003e300\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-15\"\u003e|s| \\leq 300\u003c/script\u003e。\u003c/li\u003e\n\u003cli\u003e(20分) \u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-55\"\u003e\u003cspan class=\"MJXp-mrow\" id=\"MJXp-Span-56\"\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-57\" style=\"margin-left: 0.167em; margin-right: 0.167em;\"\u003e|\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-58\"\u003es\u003c/span\u003e\u003cspan class=\"MJXp-mrow\" id=\"MJXp-Span-59\"\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-60\" style=\"margin-left: 0.167em; margin-right: 0.167em;\"\u003e|\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-61\" style=\"margin-left: 0.333em; margin-right: 0.333em;\"\u003e≤\u003c/span\u003e\u003cspan class=\"MJXp-mn\" id=\"MJXp-Span-62\"\u003e5000\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-16\"\u003e|s| \\leq 5000\u003c/script\u003e。\u003c/li\u003e\n\u003cli\u003e(20分) \u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-63\"\u003e\u003cspan class=\"MJXp-mrow\" id=\"MJXp-Span-64\"\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-65\" style=\"margin-left: 0.167em; margin-right: 0.167em;\"\u003e|\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-66\"\u003es\u003c/span\u003e\u003cspan class=\"MJXp-mrow\" id=\"MJXp-Span-67\"\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-68\" style=\"margin-left: 0.167em; margin-right: 0.167em;\"\u003e|\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-69\" style=\"margin-left: 0.333em; margin-right: 0.333em;\"\u003e≤\u003c/span\u003e\u003cspan class=\"MJXp-mn\" id=\"MJXp-Span-70\"\u003e40000\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-17\"\u003e|s| \\leq 40000\u003c/script\u003e。\u003c/li\u003e\n\u003cli\u003e(20分) \u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-71\"\u003e\u003cspan class=\"MJXp-mrow\" id=\"MJXp-Span-72\"\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-73\" style=\"margin-left: 0.167em; margin-right: 0.167em;\"\u003e|\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-74\"\u003es\u003c/span\u003e\u003cspan class=\"MJXp-mrow\" id=\"MJXp-Span-75\"\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-76\" style=\"margin-left: 0.167em; margin-right: 0.167em;\"\u003e|\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-77\" style=\"margin-left: 0.333em; margin-right: 0.333em;\"\u003e≤\u003c/span\u003e\u003cspan class=\"MJXp-mn\" id=\"MJXp-Span-78\"\u003e1.5\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-79\" style=\"margin-left: 0.267em; margin-right: 0.267em;\"\u003e×\u003c/span\u003e\u003cspan class=\"MJXp-msubsup\" id=\"MJXp-Span-80\"\u003e\u003cspan class=\"MJXp-mn\" id=\"MJXp-Span-81\" style=\"margin-right: 0.05em;\"\u003e10\u003c/span\u003e\u003cspan class=\"MJXp-mn MJXp-script\" id=\"MJXp-Span-82\" style=\"vertical-align: 0.5em;\"\u003e5\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-18\"\u003e|s| \\leq 1.5 \\times 10^5\u003c/script\u003e。\u003c/li\u003e\n\u003cli\u003e(10分) \u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-83\"\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-84\"\u003es\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-19\"\u003es\u003c/script\u003e 仅由 \u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-85\"\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-86\" style=\"margin-left: 0em; margin-right: 0em;\"\u003e{\u003c/span\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-87\"\u003ea\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-88\" style=\"margin-left: 0em; margin-right: 0.222em;\"\u003e,\u003c/span\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-89\"\u003eb\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-90\" style=\"margin-left: 0em; margin-right: 0em;\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-20\"\u003e\\{a,b\\}\u003c/script\u003e 组成并且每个字符在 \u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-91\"\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-92\" style=\"margin-left: 0em; margin-right: 0em;\"\u003e{\u003c/span\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-93\"\u003ea\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-94\" style=\"margin-left: 0em; margin-right: 0.222em;\"\u003e,\u003c/span\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-95\"\u003eb\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-96\" style=\"margin-left: 0em; margin-right: 0em;\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-21\"\u003e\\{a,b\\}\u003c/script\u003e 中等概率随机。\u003c/li\u003e\n\u003cli\u003e(20分) 没有附加限制。\u003c/li\u003e\n\u003c/ol\u003e",
      "misc": ""
    },
    {
      "title": "下载",
      "content": "\u003cp\u003e\u003ca href=\"/download.php?type=problem\u0026amp;id=433\"\u003e样例数据下载\u003c/a\u003e\u003c/p\u003e",
      "misc": ""
    }
  ],
  "samples": [
    {
      "title": "样例一",
      "input": "\u003cpre\u003e\u003ccode\u003eabbbab\u003c/code\u003e\u003c/pre\u003e",
      "output": "\u003cpre\u003e\u003ccode\u003e11\u003c/code\u003e\u003c/pre\u003e",
      "explanation": "\u003cp\u003e\u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-31\"\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-32\"\u003es\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-13\"\u003es\u003c/script\u003e 中本质不同的双回文子串有：ab,abb,abbb,abbbab,ba,bb,bba,bbab,bbb,bbba,bbbab，共11个。\u003c/p\u003e",
      "misc": ""
    },
    {
      "title": "样例二",
      "input": "\u003cpre\u003e\u003ccode\u003eaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa\u003c/code\u003e\u003c/pre\u003e",
      "output": "\u003cpre\u003e\u003ccode\u003e233\u003c/code\u003e\u003c/pre\u003e",
      "explanation": "\u003cp\u003e稍有常识的人...\u003c/p\u003e",
      "misc": ""
    },
    {
      "title": "样例三",
      "input": "\u003cpre\u003e\u003ccode\u003eabbbbaaabbbabbabbbabaababbaaababbcbbbbbaabbcbbaabbaabbbbabaabbbabbbbbaaaaabbbbbcbbbbababcaabbabcabbabaaababbbaaaabbcbcbaabbbbbabbbbbaababaababaaaabbbabaabbabaacaabaaaababbaaaaababbbbbabbaabbaabbaaabbbabaabbabaaabbabaabbbbbbababcaabbabababbbbbabbaaaaacbbaabbbaabbacbbbaacabbbabcaacbbbabaaaabbbaaababbb\u003c/code\u003e\u003c/pre\u003e",
      "output": "\u003cpre\u003e\u003ccode\u003e614\u003c/code\u003e\u003c/pre\u003e",
      "explanation": "\u003cp\u003e我有一个绝妙的解释，可是这里空间太小写不下。\u003c/p\u003e",
      "misc": ""
    }
  ],
  "tags": [
    "UOJ",
    "集训队作业2018"
  ],
  "rules": {
    "runtime": "5000000000",
    "memory": "2147483648",
    "stack": "2147483648",
    "source": "51200"
  },
  "meta": {
    "created": "2021-04-09T21:47:33.594098644+08:00",
    "updated": "2021-04-09T21:47:33.594098644+08:00",
    "checked": "2021-04-09T21:47:33.594098644+08:00"
  },
  "misc": ""
}
