{
  "id": "462",
  "title": "新年的小黄鸭",
  "type": "traditional",
  "sections": [
    {
      "title": "",
      "content": "\u003cp\u003e在DoubleDog成功辨别出来种族之后，旁边出现了一群小黄鸭和一只\u003ca class=\"uoj-username\" href=\"https://uoj.ac/user/profile/wangyisong1996\" style=\"color:rgb(63,196,104)\"\u003ewangyisong1996\u003c/a\u003e。\u003c/p\u003e\u003cp\u003e\u003ca class=\"uoj-username\" href=\"https://uoj.ac/user/profile/wangyisong1996\" style=\"color:rgb(63,196,104)\"\u003ewangyisong1996\u003c/a\u003e拦住了这些DoubleDog，说他可以给他们以帮助，但是他们需要先做出来一道题。\u003c/p\u003e\u003cp\u003e\u003ca class=\"uoj-username\" href=\"https://uoj.ac/user/profile/wangyisong1996\" style=\"color:rgb(63,196,104)\"\u003ewangyisong1996\u003c/a\u003e有一颗\u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-1\"\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-2\"\u003en\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-1\"\u003en\u003c/script\u003e个节点的有根树，根节点为\u003cspan class=\"MathJax_Preview\"\u003e1​\u003c/span\u003e\u003cscript type=\"math/tex\"\u003e1​\u003c/script\u003e，他想在这颗树上跑树链剖分。\u003c/p\u003e\u003cp\u003e他已经实现了除了树链剖分以外的其他所有东西，现在他想要知道最优的一种树链剖分方案。\u003c/p\u003e\u003cp\u003e树链剖分的时间复杂度如下：\u003c/p\u003e\u003cp\u003e定义树上的一个树链剖分为一种将边集划分为重边和轻边的方法使得每个节点和他的儿子之间最多只有一条重边。\u003c/p\u003e\u003cp\u003e在下面的表示中，我们将重边称为\u003cspan class=\"MathJax_Preview\"\u003e0\u003c/span\u003e\u003cscript type=\"math/tex\"\u003e0\u003c/script\u003e边，轻边称为\u003cspan class=\"MathJax_Preview\"\u003e1\u003c/span\u003e\u003cscript type=\"math/tex\"\u003e1\u003c/script\u003e边。\u003c/p\u003e\u003cp\u003e定义树上的\u003cspan class=\"MathJax_Preview\"\u003e(x,y)​\u003c/span\u003e\u003cscript type=\"math/tex\"\u003e(x,y)​\u003c/script\u003e序列为从\u003cspan class=\"MathJax_Preview\"\u003ex​\u003c/span\u003e\u003cscript type=\"math/tex\"\u003ex​\u003c/script\u003e到\u003cspan class=\"MathJax_Preview\"\u003ey​\u003c/span\u003e\u003cscript type=\"math/tex\"\u003ey​\u003c/script\u003e依次经过的每一条边的类型拼接而成的一个\u003cspan class=\"MathJax_Preview\"\u003e01​\u003c/span\u003e\u003cscript type=\"math/tex\"\u003e01​\u003c/script\u003e串\u003cspan class=\"MathJax_Preview\"\u003e(x!=y)\u003c/span\u003e\u003cscript type=\"math/tex\"\u003e(x!=y)\u003c/script\u003e\u003c/p\u003e\u003cp\u003e对于一个长度为\u003cspan class=\"MathJax_Preview\"\u003el​\u003c/span\u003e\u003cscript type=\"math/tex\"\u003el​\u003c/script\u003e的全\u003cspan class=\"MathJax_Preview\"\u003e1​\u003c/span\u003e\u003cscript type=\"math/tex\"\u003e1​\u003c/script\u003e串,我们设\u003cspan class=\"MathJax_Preview\"\u003ef(x)=l​\u003c/span\u003e\u003cscript type=\"math/tex\"\u003ef(x)=l​\u003c/script\u003e\u003c/p\u003e\u003cp\u003e对于一个长度为\u003cspan class=\"MathJax_Preview\"\u003el​\u003c/span\u003e\u003cscript type=\"math/tex\"\u003el​\u003c/script\u003e的全\u003cspan class=\"MathJax_Preview\"\u003e0​\u003c/span\u003e\u003cscript type=\"math/tex\"\u003e0​\u003c/script\u003e串,我们设\u003cspan class=\"MathJax_Preview\"\u003ef(x)=\\left\\lceil\\log_2l\\right\\rceil+1​\u003c/span\u003e\u003cscript type=\"math/tex\"\u003ef(x)=\\left\\lceil\\log_2l\\right\\rceil+1​\u003c/script\u003e\u003c/p\u003e\u003cp\u003e对于一个01串，我们有\u003cspan class=\"MathJax_Preview\"\u003ef(x)=\\sum f(每一个极大连续全0/1子串)​\u003c/span\u003e\u003cscript type=\"math/tex\"\u003ef(x)=\\sum f(每一个极大连续全0/1子串)​\u003c/script\u003e\u003c/p\u003e\u003cp\u003e例如:\u003cspan class=\"MathJax_Preview\"\u003ef('0011101')=(1+1)+3+(0+1)+1=7\u003c/span\u003e\u003cscript type=\"math/tex\"\u003ef('0011101')=(1+1)+3+(0+1)+1=7\u003c/script\u003e\u003c/p\u003e\u003cp\u003e对于一个轻重边划分方案\u003cspan class=\"MathJax_Preview\"\u003eT\u003c/span\u003e\u003cscript type=\"math/tex\"\u003eT\u003c/script\u003e，我们有\u003cspan class=\"MathJax_Preview\"\u003eO(T)=\\sum^{n}_{i=2}f((1,i))\u003c/span\u003e\u003cscript type=\"math/tex\"\u003eO(T)=\\sum^{n}_{i=2}f((1,i))\u003c/script\u003e\u003c/p\u003e\u003cp\u003e现在\u003ca class=\"uoj-username\" href=\"https://uoj.ac/user/profile/wangyisong1996\" style=\"color:rgb(63,196,104)\"\u003ewangyisong1996\u003c/a\u003e想要知道所有可行的树链剖分方案中，时间复杂度(也就是O(方案))最小的值是多少\u003c/p\u003e",
      "misc": ""
    },
    {
      "title": "输入格式",
      "content": "\u003cp\u003e第一行一个正整数\u003cspan class=\"MathJax_Preview\"\u003en\u003c/span\u003e\u003cscript type=\"math/tex\"\u003en\u003c/script\u003e，表示有根树的节点数。\u003c/p\u003e\u003cp\u003e接下来\u003cspan class=\"MathJax_Preview\"\u003en-1\u003c/span\u003e\u003cscript type=\"math/tex\"\u003en-1\u003c/script\u003e行，每一行两个数字\u003cspan class=\"MathJax_Preview\"\u003ex,y\u003c/span\u003e\u003cscript type=\"math/tex\"\u003ex,y\u003c/script\u003e,表示树上的一条连接\u003cspan class=\"MathJax_Preview\"\u003ex,y\u003c/span\u003e\u003cscript type=\"math/tex\"\u003ex,y\u003c/script\u003e的边。\u003c/p\u003e",
      "misc": ""
    },
    {
      "title": "输出格式",
      "content": "\u003cp\u003e一行一个数字，表示答案。\u003c/p\u003e",
      "misc": ""
    },
    {
      "title": "限制与约定",
      "content": "\u003cp\u003e\u003cstrong\u003eSubtask 1 (5 分):\u003c/strong\u003e \u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-216\"\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-217\"\u003en\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-218\" style=\"margin-left: 0.333em; margin-right: 0.333em;\"\u003e≤\u003c/span\u003e\u003cspan class=\"MJXp-mn\" id=\"MJXp-Span-219\"\u003e20\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-26\"\u003en\\le 20\u003c/script\u003e,内存限制\u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-220\"\u003e\u003cspan class=\"MJXp-mrow\" id=\"MJXp-Span-221\"\u003e\u003cspan class=\"MJXp-mtext MJXp-mono\" id=\"MJXp-Span-222\"\u003e1GB\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-27\"\u003e\\texttt{1GB}\u003c/script\u003e\u003c/p\u003e\u003cp\u003e\u003cstrong\u003eSubtask 2 (15 分):\u003c/strong\u003e \u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-223\"\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-224\"\u003en\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-225\" style=\"margin-left: 0.333em; margin-right: 0.333em;\"\u003e≤\u003c/span\u003e\u003cspan class=\"MJXp-mn\" id=\"MJXp-Span-226\"\u003e200\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-28\"\u003en\\le 200\u003c/script\u003e,内存限制\u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-227\"\u003e\u003cspan class=\"MJXp-mrow\" id=\"MJXp-Span-228\"\u003e\u003cspan class=\"MJXp-mtext MJXp-mono\" id=\"MJXp-Span-229\"\u003e1GB\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-29\"\u003e\\texttt{1GB}\u003c/script\u003e\u003c/p\u003e\u003cp\u003e\u003cstrong\u003eSubtask 3 (15 分):\u003c/strong\u003e \u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-230\"\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-231\"\u003en\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-232\" style=\"margin-left: 0.333em; margin-right: 0.333em;\"\u003e≤\u003c/span\u003e\u003cspan class=\"MJXp-mn\" id=\"MJXp-Span-233\"\u003e5000\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-30\"\u003en\\le 5000\u003c/script\u003e,内存限制\u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-234\"\u003e\u003cspan class=\"MJXp-mrow\" id=\"MJXp-Span-235\"\u003e\u003cspan class=\"MJXp-mtext MJXp-mono\" id=\"MJXp-Span-236\"\u003e1GB\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-31\"\u003e\\texttt{1GB}\u003c/script\u003e\u003c/p\u003e\u003cp\u003e\u003cstrong\u003eSubtask 4 (30 分):\u003c/strong\u003e \u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-237\"\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-238\"\u003en\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-239\" style=\"margin-left: 0.333em; margin-right: 0.333em;\"\u003e≤\u003c/span\u003e\u003cspan class=\"MJXp-mn\" id=\"MJXp-Span-240\"\u003e100000\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-32\"\u003en\\le 100000\u003c/script\u003e,内存限制\u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-241\"\u003e\u003cspan class=\"MJXp-mrow\" id=\"MJXp-Span-242\"\u003e\u003cspan class=\"MJXp-mtext MJXp-mono\" id=\"MJXp-Span-243\"\u003e1GB\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-33\"\u003e\\texttt{1GB}\u003c/script\u003e\u003c/p\u003e\u003cp\u003e\u003cstrong\u003eSubtask 5 (35 分):\u003c/strong\u003e \u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-244\"\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-245\"\u003en\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-246\" style=\"margin-left: 0.333em; margin-right: 0.333em;\"\u003e≤\u003c/span\u003e\u003cspan class=\"MJXp-mn\" id=\"MJXp-Span-247\"\u003e100000\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-34\"\u003en\\le 100000\u003c/script\u003e,内存限制\u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-248\"\u003e\u003cspan class=\"MJXp-mrow\" id=\"MJXp-Span-249\"\u003e\u003cspan class=\"MJXp-mtext MJXp-mono\" id=\"MJXp-Span-250\"\u003e200MB\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-35\"\u003e\\texttt{200MB}\u003c/script\u003e\u003c/p\u003e",
      "misc": ""
    },
    {
      "title": "下载",
      "content": "\u003cp\u003e\u003ca href=\"/download.php?type=problem\u0026amp;id=462\"\u003e样例数据下载\u003c/a\u003e\u003c/p\u003e",
      "misc": ""
    }
  ],
  "samples": [
    {
      "title": "样例一",
      "input": "\u003cpre\u003e7\n1 2\n2 3\n2 4\n2 5\n2 6\n2 7\n\u003c/pre\u003e",
      "output": "\u003cpre\u003e\u003ccode class=\"sh_txt\"\u003e11\u003c/code\u003e\u003c/pre\u003e",
      "explanation": "\u003cp\u003e将边\u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-170\"\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-171\" style=\"margin-left: 0em; margin-right: 0em;\"\u003e(\u003c/span\u003e\u003cspan class=\"MJXp-mn\" id=\"MJXp-Span-172\"\u003e1\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-173\" style=\"margin-left: 0em; margin-right: 0.222em;\"\u003e,\u003c/span\u003e\u003cspan class=\"MJXp-mn\" id=\"MJXp-Span-174\"\u003e2\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-175\" style=\"margin-left: 0em; margin-right: 0em;\"\u003e)\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-176\" style=\"margin-left: 0em; margin-right: 0.222em;\"\u003e,\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-177\" style=\"margin-left: 0em; margin-right: 0em;\"\u003e(\u003c/span\u003e\u003cspan class=\"MJXp-mn\" id=\"MJXp-Span-178\"\u003e2\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-179\" style=\"margin-left: 0em; margin-right: 0.222em;\"\u003e,\u003c/span\u003e\u003cspan class=\"MJXp-mn\" id=\"MJXp-Span-180\"\u003e3\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-181\" style=\"margin-left: 0em; margin-right: 0em;\"\u003e)\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-24\"\u003e(1,2),(2,3)\u003c/script\u003e设为重边：\u003c/p\u003e\u003cp\u003e此时\u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-182\"\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-183\"\u003ef\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-184\" style=\"margin-left: 0em; margin-right: 0em;\"\u003e(\u003c/span\u003e\u003cspan class=\"MJXp-mn\" id=\"MJXp-Span-185\"\u003e2\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-186\" style=\"margin-left: 0em; margin-right: 0em;\"\u003e)\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-187\" style=\"margin-left: 0.333em; margin-right: 0.333em;\"\u003e=\u003c/span\u003e\u003cspan class=\"MJXp-mn\" id=\"MJXp-Span-188\"\u003e1\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-189\" style=\"margin-left: 0em; margin-right: 0.222em;\"\u003e,\u003c/span\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-190\"\u003ef\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-191\" style=\"margin-left: 0em; margin-right: 0em;\"\u003e(\u003c/span\u003e\u003cspan class=\"MJXp-mn\" id=\"MJXp-Span-192\"\u003e3\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-193\" style=\"margin-left: 0em; margin-right: 0em;\"\u003e)\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-194\" style=\"margin-left: 0.333em; margin-right: 0.333em;\"\u003e=\u003c/span\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-195\"\u003ef\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-196\" style=\"margin-left: 0em; margin-right: 0em;\"\u003e(\u003c/span\u003e\u003cspan class=\"MJXp-mn\" id=\"MJXp-Span-197\"\u003e4\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-198\" style=\"margin-left: 0em; margin-right: 0em;\"\u003e)\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-199\" style=\"margin-left: 0.333em; margin-right: 0.333em;\"\u003e=\u003c/span\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-200\"\u003ef\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-201\" style=\"margin-left: 0em; margin-right: 0em;\"\u003e(\u003c/span\u003e\u003cspan class=\"MJXp-mn\" id=\"MJXp-Span-202\"\u003e5\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-203\" style=\"margin-left: 0em; margin-right: 0em;\"\u003e)\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-204\" style=\"margin-left: 0.333em; margin-right: 0.333em;\"\u003e=\u003c/span\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-205\"\u003ef\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-206\" style=\"margin-left: 0em; margin-right: 0em;\"\u003e(\u003c/span\u003e\u003cspan class=\"MJXp-mn\" id=\"MJXp-Span-207\"\u003e6\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-208\" style=\"margin-left: 0em; margin-right: 0em;\"\u003e)\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-209\" style=\"margin-left: 0.333em; margin-right: 0.333em;\"\u003e=\u003c/span\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-210\"\u003ef\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-211\" style=\"margin-left: 0em; margin-right: 0em;\"\u003e(\u003c/span\u003e\u003cspan class=\"MJXp-mn\" id=\"MJXp-Span-212\"\u003e7\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-213\" style=\"margin-left: 0em; margin-right: 0em;\"\u003e)\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-214\" style=\"margin-left: 0.333em; margin-right: 0.333em;\"\u003e=\u003c/span\u003e\u003cspan class=\"MJXp-mn\" id=\"MJXp-Span-215\"\u003e2\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-25\"\u003ef(2)=1,f(3)=f(4)=f(5)=f(6)=f(7)=2\u003c/script\u003e，可以证明这是最优解。\u003c/p\u003e",
      "misc": ""
    },
    {
      "title": "样例二至样例四",
      "input": "",
      "output": "",
      "explanation": "",
      "misc": "\u003cp\u003e见样例数据下载。\u003c/p\u003e"
    }
  ],
  "tags": [
    "UOJ"
  ],
  "rules": {
    "runtime": "3000000000",
    "memory": "0",
    "stack": "0",
    "source": "51200"
  },
  "meta": {
    "created": "2021-04-09T21:48:26.157596926+08:00",
    "updated": "2021-04-09T21:48:26.157596926+08:00",
    "checked": "2021-04-09T21:48:26.157596926+08:00"
  },
  "misc": ""
}
