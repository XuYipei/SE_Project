{
  "id": "523",
  "title": "半前缀计数",
  "type": "traditional",
  "sections": [
    {
      "title": "",
      "content": "\u003cp\u003e蒜斜刚来PKU的时候还不知道有“北大算协”这个社团，因此他总是觉得周围的人在偷偷议论着他，比如说：\u003c/p\u003e\u003cp\u003e“算协（注：非蒜斜）举办的活动好有趣啊！”\u003c/p\u003e\u003cp\u003e“算协（注：非蒜斜）好帅啊！”\u003c/p\u003e\u003cp\u003e蒜斜每次听到这些话就会想入非非，但仔细想想，自己好像也没有那么帅吧？最离谱的一次还是：\u003c/p\u003e\u003cp\u003e“算协（注：非蒜斜）有好多小哥哥”（雾）\u003c/p\u003e\u003cp\u003e自从蒜斜学习了\u003cstrong\u003e半前缀\u003c/strong\u003e之后，他把这些话都看开了 —— 对他来说，只要这些话里有 “蒜斜好” 的半前缀就足够了。\u003c/p\u003e",
      "misc": ""
    },
    {
      "title": "题目描述",
      "content": "\u003cp\u003e设小写字母字符串 \u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-1\"\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-2\"\u003es\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-1\"\u003es\u003c/script\u003e, 长度为 \u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-3\"\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-4\"\u003en\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-2\"\u003en\u003c/script\u003e, \u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-5\"\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-6\"\u003es\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-7\" style=\"margin-left: 0em; margin-right: 0em;\"\u003e[\u003c/span\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-8\"\u003el\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-9\" style=\"margin-left: 0.111em; margin-right: 0.167em;\"\u003e:\u003c/span\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-10\"\u003er\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-11\" style=\"margin-left: 0em; margin-right: 0em;\"\u003e]\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-3\"\u003es[l:r]\u003c/script\u003e 表示第 \u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-12\"\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-13\"\u003el\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-4\"\u003el\u003c/script\u003e 个到第 \u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-14\"\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-15\"\u003er\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-5\"\u003er\u003c/script\u003e 个字符构成的子串, \u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-16\"\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-17\"\u003el\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-18\" style=\"margin-left: 0.333em; margin-right: 0.333em;\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-19\"\u003er\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-6\"\u003el\u003er\u003c/script\u003e 时对应空串。\u003c/p\u003e\u003cp\u003e定义半前缀是 \u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-20\"\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-21\"\u003es\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-22\" style=\"margin-left: 0em; margin-right: 0em;\"\u003e[\u003c/span\u003e\u003cspan class=\"MJXp-mn\" id=\"MJXp-Span-23\"\u003e1\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-24\" style=\"margin-left: 0.111em; margin-right: 0.167em;\"\u003e:\u003c/span\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-25\"\u003ei\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-26\" style=\"margin-left: 0em; margin-right: 0em;\"\u003e]\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-27\" style=\"margin-left: 0.267em; margin-right: 0.267em;\"\u003e+\u003c/span\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-28\"\u003es\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-29\" style=\"margin-left: 0em; margin-right: 0em;\"\u003e[\u003c/span\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-30\"\u003ej\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-31\" style=\"margin-left: 0.111em; margin-right: 0.167em;\"\u003e:\u003c/span\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-32\"\u003ek\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-33\" style=\"margin-left: 0em; margin-right: 0em;\"\u003e]\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-7\"\u003es[1:i] + s[j:k]\u003c/script\u003e, 其中 \u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-34\"\u003e\u003cspan class=\"MJXp-mn\" id=\"MJXp-Span-35\"\u003e0\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-36\" style=\"margin-left: 0.333em; margin-right: 0.333em;\"\u003e≤\u003c/span\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-37\"\u003ei\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-38\" style=\"margin-left: 0.333em; margin-right: 0.333em;\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-39\"\u003el\u003c/span\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-40\"\u003ee\u003c/span\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-41\"\u003en\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-42\" style=\"margin-left: 0em; margin-right: 0em;\"\u003e(\u003c/span\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-43\"\u003es\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-44\" style=\"margin-left: 0em; margin-right: 0em;\"\u003e)\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-45\" style=\"margin-left: 0em; margin-right: 0.222em;\"\u003e,\u003c/span\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-46\"\u003ei\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-47\" style=\"margin-left: 0.333em; margin-right: 0.333em;\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-48\"\u003ej\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-49\" style=\"margin-left: 0.333em; margin-right: 0.333em;\"\u003e≤\u003c/span\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-50\"\u003el\u003c/span\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-51\"\u003ee\u003c/span\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-52\"\u003en\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-53\" style=\"margin-left: 0em; margin-right: 0em;\"\u003e(\u003c/span\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-54\"\u003es\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-55\" style=\"margin-left: 0em; margin-right: 0em;\"\u003e)\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-56\" style=\"margin-left: 0em; margin-right: 0.222em;\"\u003e,\u003c/span\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-57\"\u003ej\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-58\" style=\"margin-left: 0.267em; margin-right: 0.267em;\"\u003e−\u003c/span\u003e\u003cspan class=\"MJXp-mn\" id=\"MJXp-Span-59\"\u003e1\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-60\" style=\"margin-left: 0.333em; margin-right: 0.333em;\"\u003e≤\u003c/span\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-61\"\u003ek\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-62\" style=\"margin-left: 0.333em; margin-right: 0.333em;\"\u003e≤\u003c/span\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-63\"\u003el\u003c/span\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-64\"\u003ee\u003c/span\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-65\"\u003en\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-66\" style=\"margin-left: 0em; margin-right: 0em;\"\u003e(\u003c/span\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-67\"\u003es\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-68\" style=\"margin-left: 0em; margin-right: 0em;\"\u003e)\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-8\"\u003e0 \\leq i \u003c len(s), i \u003c j \\leq len(s),j-1 \\leq k\\leq len(s)\u003c/script\u003e。直观上来说，你可以把半前缀理解成某一个前缀 \u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-69\"\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-70\"\u003es\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-71\" style=\"margin-left: 0em; margin-right: 0em;\"\u003e[\u003c/span\u003e\u003cspan class=\"MJXp-mn\" id=\"MJXp-Span-72\"\u003e1\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-73\" style=\"margin-left: 0.111em; margin-right: 0.167em;\"\u003e:\u003c/span\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-74\"\u003ek\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-75\" style=\"margin-left: 0em; margin-right: 0em;\"\u003e]\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-9\"\u003es[1:k]\u003c/script\u003e 删除掉某一个子串后形成的结果（当然也允许不删）。\u003c/p\u003e\u003cp\u003e给出字符串 \u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-76\"\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-77\"\u003es\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-10\"\u003es\u003c/script\u003e，你需要求出 \u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-78\"\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-79\"\u003es\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-11\"\u003es\u003c/script\u003e 的所有半前缀中，有多少个不同的字符串。\u003c/p\u003e",
      "misc": ""
    },
    {
      "title": "输入格式",
      "content": "\u003cp\u003e输入一行包含一个小写字符串 \u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-80\"\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-81\"\u003es\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-82\" style=\"margin-left: 0em; margin-right: 0em;\"\u003e(\u003c/span\u003e\u003cspan class=\"MJXp-mn\" id=\"MJXp-Span-83\"\u003e1\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-84\" style=\"margin-left: 0.333em; margin-right: 0.333em;\"\u003e≤\u003c/span\u003e\u003cspan class=\"MJXp-mrow\" id=\"MJXp-Span-85\"\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-86\" style=\"margin-left: 0.167em; margin-right: 0.167em;\"\u003e|\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-87\"\u003es\u003c/span\u003e\u003cspan class=\"MJXp-mrow\" id=\"MJXp-Span-88\"\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-89\" style=\"margin-left: 0.167em; margin-right: 0.167em;\"\u003e|\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-90\" style=\"margin-left: 0.333em; margin-right: 0.333em;\"\u003e≤\u003c/span\u003e\u003cspan class=\"MJXp-msubsup\" id=\"MJXp-Span-91\"\u003e\u003cspan class=\"MJXp-mn\" id=\"MJXp-Span-92\" style=\"margin-right: 0.05em;\"\u003e10\u003c/span\u003e\u003cspan class=\"MJXp-mn MJXp-script\" id=\"MJXp-Span-93\" style=\"vertical-align: 0.5em;\"\u003e6\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-94\" style=\"margin-left: 0em; margin-right: 0em;\"\u003e)\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-12\"\u003es (1 \\leq |s| \\leq 10^6)\u003c/script\u003e。\u003c/p\u003e",
      "misc": ""
    },
    {
      "title": "输出格式",
      "content": "\u003cp\u003e输出一行一个整数，表示答案。\u003c/p\u003e",
      "misc": ""
    },
    {
      "title": "限制与约定",
      "content": "\u003cp\u003e\u003cstrong\u003eSmall Task\u003c/strong\u003e: \u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-95\"\u003e\u003cspan class=\"MJXp-mrow\" id=\"MJXp-Span-96\"\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-97\" style=\"margin-left: 0.167em; margin-right: 0.167em;\"\u003e|\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-98\"\u003es\u003c/span\u003e\u003cspan class=\"MJXp-mrow\" id=\"MJXp-Span-99\"\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-100\" style=\"margin-left: 0.167em; margin-right: 0.167em;\"\u003e|\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-101\" style=\"margin-left: 0.333em; margin-right: 0.333em;\"\u003e≤\u003c/span\u003e\u003cspan class=\"MJXp-mn\" id=\"MJXp-Span-102\"\u003e3000\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-13\"\u003e|s| \\leq 3000\u003c/script\u003e。\u003c/p\u003e\u003cp\u003e\u003cstrong\u003eLarge Task\u003c/strong\u003e: \u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-103\"\u003e\u003cspan class=\"MJXp-mrow\" id=\"MJXp-Span-104\"\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-105\" style=\"margin-left: 0.167em; margin-right: 0.167em;\"\u003e|\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-106\"\u003es\u003c/span\u003e\u003cspan class=\"MJXp-mrow\" id=\"MJXp-Span-107\"\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-108\" style=\"margin-left: 0.167em; margin-right: 0.167em;\"\u003e|\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-109\" style=\"margin-left: 0.333em; margin-right: 0.333em;\"\u003e≤\u003c/span\u003e\u003cspan class=\"MJXp-msubsup\" id=\"MJXp-Span-110\"\u003e\u003cspan class=\"MJXp-mn\" id=\"MJXp-Span-111\" style=\"margin-right: 0.05em;\"\u003e10\u003c/span\u003e\u003cspan class=\"MJXp-mn MJXp-script\" id=\"MJXp-Span-112\" style=\"vertical-align: 0.5em;\"\u003e6\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-14\"\u003e|s| \\leq 10^6\u003c/script\u003e。\u003c/p\u003e",
      "misc": ""
    },
    {
      "title": "下载",
      "content": "\u003cp\u003e\u003ca href=\"/download.php?type=problem\u0026amp;id=523\"\u003e样例数据下载\u003c/a\u003e\u003c/p\u003e",
      "misc": ""
    }
  ],
  "samples": [
    {
      "title": "样例一",
      "input": "\u003cpre\u003eaab\n\n\u003c/pre\u003e",
      "output": "\u003cpre\u003e6\n\n\u003c/pre\u003e",
      "explanation": "\u003cp\u003e字符串 \u003ccode\u003eaab\u003c/code\u003e 的半前缀有：空串，\u003ccode\u003ea\u003c/code\u003e，\u003ccode\u003eb\u003c/code\u003e，\u003ccode\u003eaa\u003c/code\u003e，\u003ccode\u003eab\u003c/code\u003e，\u003ccode\u003eaab\u003c/code\u003e。\u003c/p\u003e",
      "misc": ""
    },
    {
      "title": "样例二",
      "input": "\u003cpre\u003epkusaamtcup\n\n\u003c/pre\u003e",
      "output": "\u003cpre\u003e217\n\n\u003c/pre\u003e",
      "explanation": "",
      "misc": ""
    }
  ],
  "tags": [
    "UOJ",
    "美团杯2020"
  ],
  "rules": {
    "runtime": "2000000000",
    "memory": "536870912",
    "stack": "536870912",
    "source": "51200"
  },
  "meta": {
    "created": "2021-04-09T21:54:50.11448196+08:00",
    "updated": "2021-04-09T21:54:50.11448196+08:00",
    "checked": "2021-04-09T21:54:50.11448196+08:00"
  },
  "misc": ""
}
