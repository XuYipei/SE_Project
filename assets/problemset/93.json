{
  "id": "93",
  "title": "上帝之手",
  "type": "traditional",
  "sections": [
    {
      "title": "",
      "content": "\u003cp\u003e上帝之手操纵着四维空间。假设四维空间中上帝关心的部分共 \u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-1\"\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-2\"\u003en\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-1\"\u003en\u003c/script\u003e 天，定义第 \u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-3\"\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-4\"\u003ei\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-2\"\u003ei\u003c/script\u003e 天结束时一个三维世界的混乱度为 \u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-5\"\u003e\u003cspan class=\"MJXp-msubsup\" id=\"MJXp-Span-6\"\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-7\" style=\"margin-right: 0.05em;\"\u003ex\u003c/span\u003e\u003cspan class=\"MJXp-mi MJXp-italic MJXp-script\" id=\"MJXp-Span-8\" style=\"vertical-align: -0.4em;\"\u003ei\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-3\"\u003ex_i\u003c/script\u003e。由于一些自然的原因，第 \u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-9\"\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-10\"\u003ei\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-4\"\u003ei\u003c/script\u003e 天该世界的混乱度会增加 \u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-11\"\u003e\u003cspan class=\"MJXp-msubsup\" id=\"MJXp-Span-12\"\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-13\" style=\"margin-right: 0.05em;\"\u003ed\u003c/span\u003e\u003cspan class=\"MJXp-mi MJXp-italic MJXp-script\" id=\"MJXp-Span-14\" style=\"vertical-align: -0.4em;\"\u003ei\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-5\"\u003ed_i\u003c/script\u003e，但为了世界的平衡，每天该世界都有一个混乱度的上限值 \u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-15\"\u003e\u003cspan class=\"MJXp-msubsup\" id=\"MJXp-Span-16\"\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-17\" style=\"margin-right: 0.05em;\"\u003el\u003c/span\u003e\u003cspan class=\"MJXp-mi MJXp-italic MJXp-script\" id=\"MJXp-Span-18\" style=\"vertical-align: -0.4em;\"\u003ei\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\" id=\"MathJax-Element-6\"\u003el_i\u003c/script\u003e，即实际上 \u003cspan class=\"MathJax_Preview\" style=\"color: inherit;\"\u003e\u003cspan class=\"MJXp-math\" id=\"MJXp-Span-19\"\u003e\u003cspan class=\"MJXp-msubsup\" id=\"MJXp-Span-20\"\u003e\u003cspan class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-21\" style=\"margin-right: 0.05em;\"\u003ex\u003c/span\u003e\u003cspan class=\"MJXp-mi MJXp-italic MJXp-script\" id=\"MJXp-Span-22\" style=\"vertical-align: -0.4em;\"\u003ei\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-23\" style=\"margin-left: 0.333em; margin-right: 0.333em;\"\u003e=\u003c/span\u003e\u003cspan class=\"MJXp-mo\" id=\"MJXp-Span-24\"\u003emin\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cscript type=\"math/tex\"\u003ex_i = \\min\\{x_{i-1}+d_i , l_i\\}\u003c/script\u003e。\u003c/p\u003e\u003cp\u003e上帝想对该四维空间作一系列测试，于是希望你帮忙建立一个模型。具体有以下三种测试：\u003c/p\u003e\u003col\u003e\u003cli\u003e给定 \u003cspan class=\"MathJax_Preview\"\u003ea, b\u003c/span\u003e\u003cscript type=\"math/tex\"\u003ea, b\u003c/script\u003e 和 \u003cspan class=\"MathJax_Preview\"\u003ek\u003c/span\u003e\u003cscript type=\"math/tex\"\u003ek\u003c/script\u003e，对于所有的 \u003cspan class=\"MathJax_Preview\"\u003ec\u003c/span\u003e\u003cscript type=\"math/tex\"\u003ec\u003c/script\u003e 满足 \u003cspan class=\"MathJax_Preview\"\u003ea \\leq c \\leq b\u003c/span\u003e\u003cscript type=\"math/tex\"\u003ea \\leq c \\leq b\u003c/script\u003e，让世界以 \u003cspan class=\"MathJax_Preview\"\u003el_{c-1}\u003c/span\u003e\u003cscript type=\"math/tex\"\u003el_{c-1}\u003c/script\u003e 的初始混乱度从第 \u003cspan class=\"MathJax_Preview\"\u003ec\u003c/span\u003e\u003cscript type=\"math/tex\"\u003ec\u003c/script\u003e 天开始发展，把第 \u003cspan class=\"MathJax_Preview\"\u003eb\u003c/span\u003e\u003cscript type=\"math/tex\"\u003eb\u003c/script\u003e 天的混乱度 \u003cspan class=\"MathJax_Preview\"\u003ex_b\u003c/span\u003e\u003cscript type=\"math/tex\"\u003ex_b\u003c/script\u003e 写在一张纸上。你只需告诉上帝纸上第 \u003cspan class=\"MathJax_Preview\"\u003ek\u003c/span\u003e\u003cscript type=\"math/tex\"\u003ek\u003c/script\u003e 大的 \u003cspan class=\"MathJax_Preview\"\u003ex_b\u003c/span\u003e\u003cscript type=\"math/tex\"\u003ex_b\u003c/script\u003e 即可。保证 \u003cspan class=\"MathJax_Preview\"\u003e1 \\leq a \\leq b \\leq n\u003c/span\u003e\u003cscript type=\"math/tex\"\u003e1 \\leq a \\leq b \\leq n\u003c/script\u003e，且 \u003cspan class=\"MathJax_Preview\"\u003e1 \\leq k \\leq b - a + 1\u003c/span\u003e\u003cscript type=\"math/tex\"\u003e1 \\leq k \\leq b - a + 1\u003c/script\u003e。\u003c/li\u003e\n\u003cli\u003e给定 \u003cspan class=\"MathJax_Preview\"\u003ea, b\u003c/span\u003e\u003cscript type=\"math/tex\"\u003ea, b\u003c/script\u003e 和 \u003cspan class=\"MathJax_Preview\"\u003ex_0\u003c/span\u003e\u003cscript type=\"math/tex\"\u003ex_0\u003c/script\u003e，对于所有的 \u003cspan class=\"MathJax_Preview\"\u003ec\u003c/span\u003e\u003cscript type=\"math/tex\"\u003ec\u003c/script\u003e 满足 \u003cspan class=\"MathJax_Preview\"\u003ea \\leq c \\leq b\u003c/span\u003e\u003cscript type=\"math/tex\"\u003ea \\leq c \\leq b\u003c/script\u003e，让世界以 \u003cspan class=\"MathJax_Preview\"\u003ex_0\u003c/span\u003e\u003cscript type=\"math/tex\"\u003ex_0\u003c/script\u003e 的初始混乱度从第 \u003cspan class=\"MathJax_Preview\"\u003ec\u003c/span\u003e\u003cscript type=\"math/tex\"\u003ec\u003c/script\u003e 天开始发展，把第 \u003cspan class=\"MathJax_Preview\"\u003eb\u003c/span\u003e\u003cscript type=\"math/tex\"\u003eb\u003c/script\u003e 天的混乱度 \u003cspan class=\"MathJax_Preview\"\u003ex_b\u003c/span\u003e\u003cscript type=\"math/tex\"\u003ex_b\u003c/script\u003e 写在一张纸上。你只需告诉上帝纸上最大的 \u003cspan class=\"MathJax_Preview\"\u003ex_b\u003c/span\u003e\u003cscript type=\"math/tex\"\u003ex_b\u003c/script\u003e 即可。（注意：\u003cspan class=\"MathJax_Preview\"\u003ex_0\u003c/span\u003e\u003cscript type=\"math/tex\"\u003ex_0\u003c/script\u003e 可能大于 \u003cspan class=\"MathJax_Preview\"\u003el_{c-1}\u003c/span\u003e\u003cscript type=\"math/tex\"\u003el_{c-1}\u003c/script\u003e）。保证 \u003cspan class=\"MathJax_Preview\"\u003e1 \\leq a \\leq b \\leq n\u003c/span\u003e\u003cscript type=\"math/tex\"\u003e1 \\leq a \\leq b \\leq n\u003c/script\u003e。\u003c/li\u003e\n\u003cli\u003e给定 \u003cspan class=\"MathJax_Preview\"\u003ea\u003c/span\u003e\u003cscript type=\"math/tex\"\u003ea\u003c/script\u003e 和 \u003cspan class=\"MathJax_Preview\"\u003eb\u003c/span\u003e\u003cscript type=\"math/tex\"\u003eb\u003c/script\u003e，对于所有的 \u003cspan class=\"MathJax_Preview\"\u003ec\u003c/span\u003e\u003cscript type=\"math/tex\"\u003ec\u003c/script\u003e 满足 \u003cspan class=\"MathJax_Preview\"\u003ea \\leq c \\leq b\u003c/span\u003e\u003cscript type=\"math/tex\"\u003ea \\leq c \\leq b\u003c/script\u003e，让世界以 \u003cspan class=\"MathJax_Preview\"\u003el_{c-1}\u003c/span\u003e\u003cscript type=\"math/tex\"\u003el_{c-1}\u003c/script\u003e 的初始混乱度从第 \u003cspan class=\"MathJax_Preview\"\u003ec\u003c/span\u003e\u003cscript type=\"math/tex\"\u003ec\u003c/script\u003e 天开始发展，把第 \u003cspan class=\"MathJax_Preview\"\u003eb\u003c/span\u003e\u003cscript type=\"math/tex\"\u003eb\u003c/script\u003e 天的混乱度 \u003cspan class=\"MathJax_Preview\"\u003ex_b\u003c/span\u003e\u003cscript type=\"math/tex\"\u003ex_b\u003c/script\u003e 写在一张纸上。你只需告诉上帝纸上有多少种不同的 \u003cspan class=\"MathJax_Preview\"\u003ex_b\u003c/span\u003e\u003cscript type=\"math/tex\"\u003ex_b\u003c/script\u003e 即可。保证 \u003cspan class=\"MathJax_Preview\"\u003e1 \\leq a \\leq b \\leq n\u003c/span\u003e\u003cscript type=\"math/tex\"\u003e1 \\leq a \\leq b \\leq n\u003c/script\u003e。\u003c/li\u003e\n\u003c/ol\u003e\u003cp\u003e当然，上帝还会修改某些位置的 \u003cspan class=\"MathJax_Preview\"\u003el_i\u003c/span\u003e\u003cscript type=\"math/tex\"\u003el_i\u003c/script\u003e。你能成功帮助上帝完成测试吗？\u003c/p\u003e",
      "misc": ""
    },
    {
      "title": "输入格式",
      "content": "\u003cp\u003e第一行包含两个正整数 \u003cspan class=\"MathJax_Preview\"\u003en\u003c/span\u003e\u003cscript type=\"math/tex\"\u003en\u003c/script\u003e 和 \u003cspan class=\"MathJax_Preview\"\u003em\u003c/span\u003e\u003cscript type=\"math/tex\"\u003em\u003c/script\u003e，分别表示总天数和总操作（包含测试和修改）次数。\u003c/p\u003e\u003cp\u003e第二行为 \u003cspan class=\"MathJax_Preview\"\u003en\u003c/span\u003e\u003cscript type=\"math/tex\"\u003en\u003c/script\u003e 个非负整数 \u003cspan class=\"MathJax_Preview\"\u003ed_1, \\dots, d_n\u003c/span\u003e\u003cscript type=\"math/tex\"\u003ed_1, \\dots, d_n\u003c/script\u003e。\u003c/p\u003e\u003cp\u003e第三行为 \u003cspan class=\"MathJax_Preview\"\u003en+1\u003c/span\u003e\u003cscript type=\"math/tex\"\u003en+1\u003c/script\u003e 个非负整数 \u003cspan class=\"MathJax_Preview\"\u003el_0, \\dots, l_n\u003c/span\u003e\u003cscript type=\"math/tex\"\u003el_0, \\dots, l_n\u003c/script\u003e。含义见问题描述。\u003c/p\u003e\u003cp\u003e第四行起的 \u003cspan class=\"MathJax_Preview\"\u003em\u003c/span\u003e\u003cscript type=\"math/tex\"\u003em\u003c/script\u003e 行，每行第一个整数 \u003cspan class=\"MathJax_Preview\"\u003e\\mathrm{type}\u003c/span\u003e\u003cscript type=\"math/tex\"\u003e\\mathrm{type}\u003c/script\u003e 表示操作种类。\u003c/p\u003e\u003cp\u003e若 \u003cspan class=\"MathJax_Preview\"\u003e\\mathrm{type}=0\u003c/span\u003e\u003cscript type=\"math/tex\"\u003e\\mathrm{type}=0\u003c/script\u003e，则后面跟有两个整数 \u003cspan class=\"MathJax_Preview\"\u003eu\u003c/span\u003e\u003cscript type=\"math/tex\"\u003eu\u003c/script\u003e 和 \u003cspan class=\"MathJax_Preview\"\u003ex\u003c/span\u003e\u003cscript type=\"math/tex\"\u003ex\u003c/script\u003e，表示将 \u003cspan class=\"MathJax_Preview\"\u003el_u\u003c/span\u003e\u003cscript type=\"math/tex\"\u003el_u\u003c/script\u003e 改为 \u003cspan class=\"MathJax_Preview\"\u003ex\u003c/span\u003e\u003cscript type=\"math/tex\"\u003ex\u003c/script\u003e。保证 \u003cspan class=\"MathJax_Preview\"\u003e0 \\leq u \\leq n\u003c/span\u003e\u003cscript type=\"math/tex\"\u003e0 \\leq u \\leq n\u003c/script\u003e。\u003c/p\u003e\u003cp\u003e若 \u003cspan class=\"MathJax_Preview\"\u003e\\mathrm{type}\u0026gt;0\u003c/span\u003e\u003cscript type=\"math/tex\"\u003e\\mathrm{type}\u003e0\u003c/script\u003e，则 \u003cspan class=\"MathJax_Preview\"\u003e\\mathrm{type}\u003c/span\u003e\u003cscript type=\"math/tex\"\u003e\\mathrm{type}\u003c/script\u003e 等于题目描述中对应的测试种类编号。\u003cspan class=\"MathJax_Preview\"\u003e\\mathrm{type} = 1\u003c/span\u003e\u003cscript type=\"math/tex\"\u003e\\mathrm{type} = 1\u003c/script\u003e 时后面跟有三个整数 \u003cspan class=\"MathJax_Preview\"\u003ea, b\u003c/span\u003e\u003cscript type=\"math/tex\"\u003ea, b\u003c/script\u003e 和 \u003cspan class=\"MathJax_Preview\"\u003ek\u003c/span\u003e\u003cscript type=\"math/tex\"\u003ek\u003c/script\u003e；\u003cspan class=\"MathJax_Preview\"\u003e\\mathrm{type} = 2\u003c/span\u003e\u003cscript type=\"math/tex\"\u003e\\mathrm{type} = 2\u003c/script\u003e 时后面跟有三个整数 \u003cspan class=\"MathJax_Preview\"\u003ea, b\u003c/span\u003e\u003cscript type=\"math/tex\"\u003ea, b\u003c/script\u003e 和 \u003cspan class=\"MathJax_Preview\"\u003ex_0\u003c/span\u003e\u003cscript type=\"math/tex\"\u003ex_0\u003c/script\u003e；\u003cspan class=\"MathJax_Preview\"\u003e\\mathrm{type} = 3\u003c/span\u003e\u003cscript type=\"math/tex\"\u003e\\mathrm{type} = 3\u003c/script\u003e 时后面跟有两个整数 \u003cspan class=\"MathJax_Preview\"\u003ea\u003c/span\u003e\u003cscript type=\"math/tex\"\u003ea\u003c/script\u003e 和 \u003cspan class=\"MathJax_Preview\"\u003eb\u003c/span\u003e\u003cscript type=\"math/tex\"\u003eb\u003c/script\u003e。具体含义见问题描述。\u003c/p\u003e",
      "misc": ""
    },
    {
      "title": "输出格式",
      "content": "\u003cp\u003e对于每个测试输出一行，包含一个整数表示测试结果。\u003c/p\u003e",
      "misc": ""
    },
    {
      "title": "限制与约定",
      "content": "\u003cp\u003e对于前 10% 的数据，\u003cspan class=\"MathJax_Preview\"\u003en, m \\leq 100\u003c/span\u003e\u003cscript type=\"math/tex\"\u003en, m \\leq 100\u003c/script\u003e；\u003c/p\u003e\u003cp\u003e对于前 20% 的数据，\u003cspan class=\"MathJax_Preview\"\u003en, m \\leq 5000\u003c/span\u003e\u003cscript type=\"math/tex\"\u003en, m \\leq 5000\u003c/script\u003e；\u003c/p\u003e\u003cp\u003e对于另 10% 的数据，\u003cspan class=\"MathJax_Preview\"\u003e\\mathrm{type} \\leq 1\u003c/span\u003e\u003cscript type=\"math/tex\"\u003e\\mathrm{type} \\leq 1\u003c/script\u003e；\u003c/p\u003e\u003cp\u003e对于另 20% 的数据，\u003cspan class=\"MathJax_Preview\"\u003e\\mathrm{type} \\leq 2\u003c/span\u003e\u003cscript type=\"math/tex\"\u003e\\mathrm{type} \\leq 2\u003c/script\u003e；\u003c/p\u003e\u003cp\u003e对于另 15% 的数据，\u003cspan class=\"MathJax_Preview\"\u003e\\mathrm{type} = 0~\\text{或}~3\u003c/span\u003e\u003cscript type=\"math/tex\"\u003e\\mathrm{type} = 0~\\text{或}~3\u003c/script\u003e；\u003c/p\u003e\u003cp\u003e对于 100% 的数据，\u003cspan class=\"MathJax_Preview\"\u003en \\leq 10^5\u003c/span\u003e\u003cscript type=\"math/tex\"\u003en \\leq 10^5\u003c/script\u003e，\u003cspan class=\"MathJax_Preview\"\u003em \\leq 2 \\times 10^5\u003c/span\u003e\u003cscript type=\"math/tex\"\u003em \\leq 2 \\times 10^5\u003c/script\u003e，\u003cspan class=\"MathJax_Preview\"\u003e0 \\leq d_i \\leq 10^4\u003c/span\u003e\u003cscript type=\"math/tex\"\u003e0 \\leq d_i \\leq 10^4\u003c/script\u003e，\u003cspan class=\"MathJax_Preview\"\u003e0 \\leq l_i \\leq 10^9\u003c/span\u003e\u003cscript type=\"math/tex\"\u003e0 \\leq l_i \\leq 10^9\u003c/script\u003e。第二类测试操作中 \u003cspan class=\"MathJax_Preview\"\u003e0 \\leq x_0 \\leq 10^9\u003c/span\u003e\u003cscript type=\"math/tex\"\u003e0 \\leq x_0 \\leq 10^9\u003c/script\u003e，修改操作中 \u003cspan class=\"MathJax_Preview\"\u003e0 \\leq x \\leq 10^9\u003c/span\u003e\u003cscript type=\"math/tex\"\u003e0 \\leq x \\leq 10^9\u003c/script\u003e。\u003c/p\u003e",
      "misc": ""
    },
    {
      "title": "来源",
      "content": "\u003cp\u003e中国国家集训队互测2015 - By 陈思禹\u003c/p\u003e",
      "misc": ""
    },
    {
      "title": "下载",
      "content": "\u003cp\u003e\u003ca href=\"/download.php?type=problem\u0026amp;id=93\"\u003e样例数据下载\u003c/a\u003e\u003c/p\u003e",
      "misc": ""
    }
  ],
  "samples": [
    {
      "title": "样例一",
      "input": "\u003cpre\u003e3 5\n2 1 3\n2 6 7 5\n1 1 2 2\n3 1 3\n0 3 15\n3 1 3\n2 1 3 2\n\n\u003c/pre\u003e",
      "output": "\u003cpre\u003e5\n1\n2\n8\n\n\u003c/pre\u003e",
      "explanation": "",
      "misc": ""
    }
  ],
  "tags": [
    "UOJ",
    "集训队互测2015"
  ],
  "rules": {
    "runtime": "2000000000",
    "memory": "268435456",
    "stack": "268435456",
    "source": "51200"
  },
  "meta": {
    "created": "2021-04-09T21:31:21.079120944+08:00",
    "updated": "2021-04-09T21:31:21.079120944+08:00",
    "checked": "2021-04-09T21:31:21.079120944+08:00"
  },
  "misc": ""
}
